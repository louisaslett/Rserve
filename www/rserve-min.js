"use strict"
function Rserve(e,t,n){var r=document.createElement("style")
r.innerHTML='\n.rserveshowhide .rservezoomunzoom {\n  padding: 8px 16px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 4px 2px;\n  transition-duration: 0.4s;\n  cursor: pointer;\n  border-radius: 25%;\n}\n.rserveshowhide {\n  background-color: white;\n  border: 2px solid #e7e7e7;\n  color: black;\n}\n.rserveshowhide:hover {\n  background-color: #e7e7e7;\n}\n.rservezoomunzoom {\n  background-color: white;\n  border: 2px solid #006600;\n  color: black;\n}\n.rservezoomunzoom:hover {\n  background-color: #006600;\n  color: white;\n}\n.rserveshowhide:disabled,.rserveshowhide[disabled] {\n  background:\n  repeating-linear-gradient(\n    45deg,\n    transparent,\n    transparent 10px,\n    #ccc 10px,\n    #ccc 20px\n  ),\n  linear-gradient(\n    to bottom,\n    #eee,\n    #999\n  );\n}\n.rserveout {\n  border-style: dashed;\n  border-color: #999999;\n  padding: 5px;\n}\n.rserveif {\n  margin-top: 5px;\n}\n.aceeditor {\n  height: 80px;\n  width: 100%;\n}\n.rserveswitch {\n  position: relative;\n  display: inline-block;\n  width: 40px;\n  height: 24px;\n  margin-left: 2em;\n  margin-right: 0.5em;\n}\n.rserveswitch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.rserveslider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n.rserveslider:before {\n  position: absolute;\n  content: "";\n  height: 16px;\n  width: 16px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\ninput:checked + .rserveslider {\n  background-color: #006600;\n}\ninput:focus + .rserveslider {\n  box-shadow: 0 0 1px #006600;\n}\ninput:checked + .rserveslider:before {\n  -webkit-transform: translateX(16px);\n  -ms-transform: translateX(16px);\n  transform: translateX(16px);\n}\n.rserveslider.round {\n  border-radius: 34px;\n}\n.rserveslider.round:before {\n  border-radius: 50%;\n}\n',document.head.appendChild(r)
for(var o,s,i,d,l,a=RserveUuidv4(),m=document.querySelectorAll("[rserve]"),c=0;c<m.length;c++)o=document.createElement("div"),o.id="rserve_"+c+"_code",o.className="aceeditor",o.innerHTML=m[c].innerHTML,m[c].parentNode.replaceChild(o,m[c]),aceeditors[c]=ace.edit("rserve_"+c+"_code",{theme:"ace/theme/monokai",mode:"ace/mode/r",maxLines:30,wrap:!0,autoScrollEditorIntoView:!0}),s=document.createElement("form"),s.action=e,s.method="POST",s.target="rserve_"+c+"_if",s.onsubmit=Function("event","RserveSubmit("+c+");"),l=document.createElement("textarea"),l.id="rserve_"+c+"_ta",l.name="code",l.style.display="none",s.append(l),l=document.createElement("input"),l.type="hidden",l.name="block",l.value=RservePad(c,3),s.append(l),l=document.createElement("input"),l.type="hidden",l.name="sess",l.value=n,s.append(l),l=document.createElement("input"),l.type="hidden",l.name="uuid",l.value=a,s.append(l),l=document.createElement("input"),l.id="rserve_"+c+"_submit",l.setAttribute("rserve_submit",""),l.type="submit",l.className="rserveshowhide",l.value="▶️ Run code!",s.append(l),i=document.createElement("label"),i.className="rserveswitch",l=document.createElement("input"),l.id="rserve_"+c+"_togper",l.name="persistent",l.setAttribute("rserve_togper",""),l.type="checkbox",l.checked=t,l.onchange=Function("event","RserveTogglePersist('rserve_"+c+"_togper');"),i.append(l),l=document.createElement("span"),l.className="rserveslider round",i.append(l),s.append(i),l=document.createElement("span"),l.innerHTML="Persistent",s.append(l),l=document.createElement("input"),l.id="rserve_"+c+"_runprev",l.setAttribute("rserve_runprev",""),l.type="button",l.className="rserveshowhide",l.value="⏬️ Run previous",l.style.marginLeft="1em",l.style.display=t&c>0?"":"none",l.onclick=Function("event","RserveRunUpto(0,"+c+");"),s.append(l),o.parentNode.insertBefore(s,o.nextSibling),d=document.createElement("div"),d.className="rserveout",d.id="rserve_"+c+"_div",d.style.display="none",l=document.createElement("button"),l.className="rservezoomunzoom",l.onclick=Function("event","RserveZoomR('rserve_"+c+"_div', 'rserve_"+c+"_if');"),l.innerHTML="🔎 <tt>Zoom</tt>",d.append(l),l=document.createElement("button"),l.className="rservezoomunzoom",l.onclick=Function("event","RserveUnZoomR('rserve_"+c+"_div', 'rserve_"+c+"_if');"),l.innerHTML="🔎 <tt>UnZoom</tt>",l.style.display="none",d.append(l),l=document.createElement("button"),l.className="rserveshowhide",l.onclick=Function("event","RserveHideR('rserve_"+c+"_div', 'rserve_"+c+"_if');"),l.innerHTML="🙈 <tt>Hide</tt>",d.append(l),l=document.createElement("button"),l.className="rserveshowhide",l.onclick=Function("event","RserveShowR('rserve_"+c+"_div', 'rserve_"+c+"_if');"),l.innerHTML="👀 <tt>Show</tt>",l.style.display="none",d.append(l),l=document.createElement("iframe"),l.className="rserveif",l.id="rserve_"+c+"_if",l.name="rserve_"+c+"_if",l.width="100%",d.append(l),s.parentNode.insertBefore(d,s.nextSibling),d.parentNode.insertBefore(document.createElement("br"),d.nextSibling)}function RserveSubmit(e){document.getElementById("rserve_"+e+"_submit").setAttribute("disabled","disabled"),setTimeout("document.getElementById('rserve_"+e+"_submit').removeAttribute('disabled');",2e3),document.getElementById("rserve_"+e+"_ta").value=aceeditors[e].getValue(),document.getElementById("rserve_"+e+"_div").setAttribute("style","display:block;"),RserveShowR("rserve_"+e+"_div","rserve_"+e+"_if")}function RserveRunUpto(e,t){document.getElementById("rserve_"+t+"_runprev").setAttribute("disabled","disabled"),document.getElementById("rserve_"+e+"_runprev").setAttribute("disabled","disabled"),setTimeout("document.getElementById('rserve_"+e+"_runprev').removeAttribute('disabled');",2e3)
var n=document.querySelectorAll("[rserve_submit]")
t>e&&e<n.length&&(n[e].click(),t>e+1?setTimeout("RserveRunUpto("+(e+1)+","+t+")",500):setTimeout("document.getElementById('rserve_"+t+"_runprev').removeAttribute('disabled');",2e3))}function RserveTogglePersist(e){for(var t=document.getElementById(e).checked,n=document.querySelectorAll("[rserve_togper]"),r=document.querySelectorAll("[rserve_runprev]"),o=0;o<n.length;o++)n[o].checked=t,r[o].style.display=t&o>0?"":"none"}function RserveZoomR(e,t){document.getElementById(e).setAttribute("style","position: fixed; z-index: 1000; top: 50px; right: 50px; bottom: 50px; left: 50px; background-color: rgba(255,255,255,1); box-shadow: 5px 10px 8px #888888;")
var n=window.getComputedStyle(document.getElementById(e),null),r=window.getComputedStyle(document.getElementById(t),null),o=window.getComputedStyle(document.getElementById(e).getElementsByTagName("BUTTON")[0],null)
riframeheights[t]=r.getPropertyValue("height"),document.getElementById(t).height=parseFloat(n.getPropertyValue("height"))-parseFloat(o.getPropertyValue("height"))-20,document.getElementById(e).getElementsByTagName("BUTTON")[0].style.display="none",document.getElementById(e).getElementsByTagName("BUTTON")[1].style.display=""}function RserveUnZoomR(e,t){document.getElementById(e).setAttribute("style",rdivstyles[e]),document.getElementById(e).style.display="block"
var n=window.getComputedStyle(document.getElementById(t),null).getPropertyValue("display")
document.getElementById(t).setAttribute("style",riframestyles[t]),document.getElementById(t).height=riframeheights[t],document.getElementById(t).style.display=n,document.getElementById(e).getElementsByTagName("BUTTON")[1].style.display="none",document.getElementById(e).getElementsByTagName("BUTTON")[0].style.display=""}function RserveHideR(e,t){document.getElementById(t).style.display="none",document.getElementById(e).getElementsByTagName("BUTTON")[2].style.display="none",document.getElementById(e).getElementsByTagName("BUTTON")[3].style.display=""}function RserveShowR(e,t){document.getElementById(t).style.display="",document.getElementById(e).getElementsByTagName("BUTTON")[3].style.display="none",document.getElementById(e).getElementsByTagName("BUTTON")[2].style.display=""}function RserveUuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}function RservePad(e,t){var n="000000000"+e
return n.substr(n.length-t)}var riframeheights={},riframestyles={},rdivstyles={},aceeditors={}
